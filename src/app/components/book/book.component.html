<mat-card
    class="book" 
    [ngClass]="{ 'book_not-available': !book.available }"
>
    <mat-card-subtitle>
        <mat-icon 
            aria-hidden="false" 
            aria-label="Info"
            color="primary"
            class="book__info"
            cdkOverlayOrigin 
            #trigger="cdkOverlayOrigin"
            (mouseleave)="togglePopup(false)"
            (mouseenter)="togglePopup(true)"
        >
            info
        </mat-icon>
    </mat-card-subtitle>
    <mat-card-title>
        <div 
            class="book__title" 
            title="{{ book.name }}"
        >{{ book.name }}</div>
    </mat-card-title>
    <mat-card-content>
        <p class="book__author">By {{ book.author }}</p>
    </mat-card-content>
    <mat-card-actions>
        <div class="book__footer">
            <div>
                {{ book.price | currency: 'INR' }}
            </div>

            <div>
                <span
                    class="book__star" 
                    *ngFor="let r of rating"
                >&#9733;</span>
            </div>
        </div>
    </mat-card-actions>
</mat-card>

<ng-template
  cdkConnectedOverlay
  [cdkConnectedOverlayOrigin]="trigger"
  [cdkConnectedOverlayOpen]="isOpen"
>
  <ul class="book__info-list">
    <li>
        <p class="book__info-label">Release date</p>
        {{ date }}
    </li>
    <li>
        <p class="book__info-label">Available</p>
        {{ available }}</li>
  </ul>
</ng-template>